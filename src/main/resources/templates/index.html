<html lang="en" xmlns:th="https://www.thymeleaf.org/">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
  <div class = "container" mt-5>
  		<h1>Welcome to Reports App</h1>
  </div>
  	<div class = "container mt-5" >
  		<form th:action="@{/filter-data}" th:object = "${search}" method = "POST">
  			<table>
  				<tr>
  					<td>
  						<select class = "form-control" th:field = "*{planName}">
  							<option value = "">-Plan Name-</option>
  							<option th:each = "name : ${planNames}" th:value = "${name}"
  							th:text = "${name}"/>
  						</select>
  					</td>
  					<td>
  						<select class = "form-control" th:field = "*{planStatus}">
  							<option value = "">-Plan Status-</option>
  							<option th:each = "name : ${planStatus}" th:value = "${name}"
  							th:text = "${name}"/>
  						</select>
  					</td>
  					<td>
  						<select class = "form-control" th:field = "*{gender}">
  							<option value = "">-Gender-</option>
  							<option value = "Male">Male</option>
  							<option value = "FeMale">FeMale</option>
  							
  						</select>
  					</td>
  					<td>
  						<input type = "date" class = "form-control" th:field = "*{planStartDate}"/>
  					</td>
  					<td>
  						<input type = "date" class = "form-control" th:field = "*{planEndDate}"/>
  					</td>
  					<td>
  						<input type = "submit" value = "search" class = "btn btn-primary"/>
  					</td>
  				</tr>
  			</table>
  		</form>
  	</div>
  	
  	<div class = "container mt-5" >
  	    <h3>View Citizen plans Data</h3>
		<table class = "table table-bordered table-striped">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Gender</th>
					<th>Email</th>
					<th>Plan Name</th>
					<th>Plan Status</th>
					<th>SSN</th>
					<th>Phno</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each = "citizen : ${citizens}">
				<td th:text = "${citizen.citizenId}"></td>
					<td th:text = "${citizen.name}"></td>
					<td th:text = "${citizen.gender}"></td>
					<td th:text = "${citizen.email}"></td>
					<td th:text = "${citizen.planName}"></td>
					<td th:text = "${citizen.planStatus}"></td>
					<td th:text = "${citizen.ssn}"></td>
					<td th:text = "${citizen.phno}"></td>
					
				</tr>
				<tr>
				<td th:if="${citizens == null or citizens.isEmpty()}" colspan = "8" class = "text-center text-danger">No records found</td>
			</tr>
			</tbody>
		</table>
   </div>
  	<div class = "container text-center">
  		<a th:href = "@{/excel}" class = "btn btn-primary">Excel</a>
  		<a th:href = "@{/pdf}" class = "btn btn-danger">Pdf</a>
  	</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  </body>
</html>